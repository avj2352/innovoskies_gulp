var gulp=require("gulp"),gutil=require("gulp-util"),coffee=require("gulp-coffee"),uglify=require("gulp-uglify"),concat=require("gulp-concat"),path=require("path"),less=require("gulp-less"),minifyCSS=require("gulp-minify-css"),coffeeSources=["components/coffee/*.coffee"],lessSources=["components/less/grayscale.less"],jsSources=["components/scripts/lib/jquery-1.11.0.js","components/scripts/lib/bootstrap.min.js","components/scripts/lib/jquery.easing.min.js","components/scripts/lib/grayscale.js","components/scripts/*.js"],cssSources=["components/css/include/bootstrap.css","components/css/include/font-awesome.min.css","components/css/*.css"];gulp.task("less",function(){gulp.src(lessSources).pipe(less()).on("error",gutil.log).pipe(gulp.dest("components/css"))}),gulp.task("coffee",function(){gulp.src(coffeeSources).pipe(coffee({bare:!0})).on("error",gutil.log).pipe(gulp.dest("components/scripts"))}),gulp.task("process",function(){gulp.src(cssSources).pipe(minifyCSS({keepBreaks:!0})).pipe(concat("styles.css")).pipe(gulp.dest("styles"))}),gulp.task("compile",function(){gulp.src(jsSources).pipe(uglify()).pipe(concat("scripts.js")).pipe(gulp.dest("js"))}),gulp.task("watch",function(){gulp.watch(lessSources,["less"]),gulp.watch(cssSources,["process"]),gulp.watch(coffeeSources,["coffee"]),gulp.watch(jsSources,["compile"]),gulp.watch(["js/scripts.js","css/styles.css","*.html"])}),gulp.task("default",["less","process","coffee","compile","watch"]);