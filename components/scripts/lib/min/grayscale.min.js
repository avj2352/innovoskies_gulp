function checkViewPort(){var t=$(".photos").width(),a=$(".thumbnail_container").width(),i=$(".thumbnail_container a.thumbnail:first-child").outerWidth();a>t&&positionThumbnails(),t-i>a&&positionThumbnails(),$(".debug-size").html("photosWidth = "+t+" | thumbnailContainerWidth = "+a)}function sortThumbnails(t){$(".thumbnail_container a.thumbnail").each(function(){var a=$(this).attr("data-keywords");"all"==t?$(this).addClass("showMe").removeClass("hideMe").attr("rel","group"):-1!=a.indexOf(t)?$(this).addClass("showMe").removeClass("hideMe").attr("rel","group"):$(this).addClass("hideMe").removeClass("showMe").attr("rel","none")}),positionThumbnails()}function positionThumbnails(){$(".debug-remainder").html(""),$(".thumbnail_container a.thumbnail.hideMe").animate({opacity:0},500,function(){$(this).css({display:"none",top:"0px",left:"0px"})});var t=$(".photos").width(),a=0,i=0,n=$("a.thumbnail img:first-child").outerWidth()+window.thumbnailSpacing,o=$("a.thumbnail img:first-child").outerHeight()+window.thumbnailSpacing,e=Math.floor(t/n);$(".thumbnail_container a.thumbnail.showMe").each(function(t){var s=t%e/100;$(".debug-remainder").append(s+" - "),0==s?(0!=t&&(a+=o),i=0):i+=n,$(this).css("display","block").animate({opacity:1,top:a+"px",left:i+"px"},500);var l=e*n,r=a+o;$(".thumbnail_container").css({width:l+"px",height:r+"px"})}),detectFancyboxLinks();var s=$(".thumbnail_container").width()/n,l=s*n-window.thumbnailSpacing;$(".sorting").css("width",l+"px")}function detectFancyboxLinks(){$('a.fancybox[rel="group"]').fancybox({transitionIn:"elastic",transitionOut:"elastic",titlePosition:"over",speedIn:500,overlay:"#000",padding:0,overlayOpacity:.75})}$(window).scroll(function(){$(".navbar").offset().top>50?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse")}),$(function(){$("a.page-scroll").bind("click",function(t){var a=$(this);$("html, body").stop().animate({scrollTop:$(a.attr("href")).offset().top},1500,"easeInOutExpo"),t.preventDefault()})}),$(".navbar-collapse ul li a").click(function(){$(".navbar-toggle:visible").click()}),$(function(){var t=new Image;$(t).load(function(){$(this).hide(),$("#loader").css("display","none"),$("#logoImage").append(this),$(this).fadeIn("slow")}).error(function(){alert("Error loading image")}).attr("src","../img/innovo_logo.png")});var thumbnailSpacing=15;$(document).ready(function(){$("a.sortLink").on("click",function(t){t.preventDefault(),$("a.sortLink").removeClass("selected"),$(this).addClass("selected");var a=$(this).attr("data-keyword");sortThumbnails(a)}),$(".gallery .sorting").css("margin-bottom",window.thumbnailSpacing+"px"),$(".thumbnail_container a.thumbnail").addClass("showMe").addClass("fancybox").attr("rel","group"),positionThumbnails(),setInterval("checkViewPort()",750)});